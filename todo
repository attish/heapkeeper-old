Implementation
--------------

* iter_thread optimization: give ts
* PostSet: expand, expand_f, expand_b operations
    * forward
        PostSet.exp_f():
            result = set()
            for post in self():
                if post not in result:
                    for post2 in self.iter_thread(post):
                        result.add(post2)
            self.clear()
            self.update(result)
    * backwards
        Post.root()
            loop on the in-reply-to-s
        PostSet.exp_b():
            loop on the in-reply-to-s
    * both
        PostSet.exp() = root() + exp_f()
* PostSet: selector
    s = maildb.get_selector()
    ps_all = s('all')
    ps_heap = s('[heap]')
    ps_nt = s('{new-thread}')
    ps_nt = s('{flag-new-thread}')
    ps_nt = s('{since 2008-10-10}')
    ps_112 = s('112')
* Generator: sections
* Tags: subject -> tag
* Generator: * instead of the same subjects; same with tags
    Attis: Something [heap]
      Josh: * [heap] [heap-conventions]
        Csabi: Something else [heap] [heap-conventions]
          Josh: * [heap] [heap-conventions]
* Tags: "tag implies tag" relations
* Flag: New-thead flag to indicate that the email begins a new thread.
  Post.inreplyto -> new-thread flag (stub)
  Post.real_inreplyto
* Console interface
* Actor
* Search
* Downloading emails since given date.
* Generator: it should be able to determine the width of the generated HTML
  page (to discuss)
* Improve CSS
* Cleanup functionality


Discussion
----------

* Parsing email files and handling meta text
* HTML for emails
* "Things which we will talk about later" email
* Folding threads.

